
name: add_dockerhub

on:
  workflow_run:
    workflows:
      - "go build&test"
    types:
      - "completed"



jobs:
  add_dockerhub:
   runs-on: ubuntu-latest

   steps:
     - uses: actions/checkout@v3
     - name: build
       run:  docker build -t artur9022/goapp .

     - name: Docker conteiner
       run:  docker run  artur9022/goapp

     - name: docker push
       uses: docker/build-push-action@v1
       with:
         username: ${{ secrets.DOCKER_USERNAME }}
         passeord: ${{ secrets.DOCKER_PASSWORD }}
         repository: artur9022/goapp
         dockerfile: artur9022/goapp

     
       


